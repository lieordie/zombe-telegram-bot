import asyncio
import logging
import os
from aiogram import Bot, Dispatcher, F
from aiogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton, CallbackQuery
from aiogram.filters import CommandStart, Command
from aiogram.enums import ParseMode

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')
logger = logging.getLogger(__name__)


BOT_TOKEN = '8245543069:AAFQMMk6KM-H6lYHG7M94iLzPAWXNuIIuqk'
CHANNEL_LINK = "https://t.me/ZOMBE_Team"


# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞
bot = Bot(token=BOT_TOKEN)
dp = Dispatcher()

# ========== –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ========== #
LINKS = {
    'youtube': "https://youtube.com/@ZOMBE",
    'twitch': "https://twitch.tv/ZOMBE", 
    'tiktok': "https://tiktok.com/@ZOMBE",
    'channel': CHANNEL_LINK
}

# –°–ª–æ–≤–∞—Ä—å —Ç–µ–∫—Å—Ç–æ–≤ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –∏–∑–±–µ–∂–∞–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
TEXTS = {
    'welcome': """
üéÆ <b>–ü–†–ò–í–ï–¢, {name}! –î–û–ë–†–û –ü–û–ñ–ê–õ–û–í–ê–¢–¨ –í ZOMBE TEAM! üî•</b>

–ú—ã - –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞, –∫–æ—Ç–æ—Ä–∞—è 8 –ª–µ—Ç –ø–æ–¥—Ä—è–¥ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –Ω–∞ TI, 
–Ω–æ –æ—Ç —ç—Ç–æ–≥–æ —Å—Ç–∞–ª–∞ —Ç–æ–ª—å–∫–æ —Å–∏–ª—å–Ω–µ–µ –¥—É—Ö–æ–º! üí™

<b>–ò—Å–ø–æ–ª—å–∑—É–π –∫–Ω–æ–ø–∫–∏ –Ω–∏–∂–µ —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –æ –Ω–∞—Å –±–æ–ª—å—à–µ:</b>

‚Ä¢ üéÆ <b>–°–æ—Å—Ç–∞–≤ –∫–æ–º–∞–Ω–¥—ã</b> - –Ω–∞—à–∏ –∑–≤–µ–∑–¥–Ω—ã–µ –∏–≥—Ä–æ–∫–∏
‚Ä¢ üèÜ <b>TI 2026</b> - –Ω–∞—à –≤–µ–ª–∏–∫–∏–π –ø—É—Ç—å
‚Ä¢ üìπ <b>–ù–∞—à –∫–æ–Ω—Ç–µ–Ω—Ç</b> - –≤–∏–¥–µ–æ –∏ —Å—Ç—Ä–∏–º—ã
‚Ä¢ üìä <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</b> - –Ω–∞—à–∏ "—É—Å–ø–µ—Ö–∏"
‚Ä¢ üìñ <b>–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è</b> - –∫–∞–∫ –º—ã –Ω–∞—á–∏–Ω–∞–ª–∏

<b>–ò–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏ –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ –Ω–∞—à–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã!</b>

<i>P.S. –îi–º–∞ –¥–æ —Å–∏—Ö –ø–æ—Ä –Ω–µ —É–≤–µ—Ä–µ–Ω –Ω–∞ –∫–∞–∫–æ–π –ø–æ–∑–∏—Ü–∏–∏ –∏–≥—Ä–∞–µ—Ç...</i> üòÇ
    """,
    'team': """
üéÆ <b>ZOMBE TEAM - –°–û–°–¢–ê–í –õ–ï–ì–ï–ù–î</b>

<b>–ù–∞—à–∏ –∑–≤–µ–∑–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—á—Ç–∏ –ø—Ä–æ—à–ª–∏ –Ω–∞ TI:</b>

‚Ä¢ üî• <b>–ú–∏—à–∞ –•–æ—Ö–ª–æ—Ä–µ–∑ (2 –ø–æ–∑–∏—Ü–∏—è)</b>
  –§–∞—Ä–º–∏—Ç –∫–∞–∫ –±–æ–≥, –¥–µ—Ä–µ—Ç—Å—è –∫–∞–∫ –¥–µ–º–æ–Ω!
  <i>"–Ø –Ω–µ —Ñ–∞—Ä–º–ª—é, —è –∏–Ω–≤–µ—Å—Ç–∏—Ä—É—é –≤ –ø–æ–±–µ–¥—É!"</i>

‚Ä¢ üéØ <b>–°—Çi—Å (4 –ø–æ–∑–∏—Ü–∏—è)</b>
  –†–æ—É–º–∏–Ω–≥-–º–∞—à–∏–Ω–∞, –Ω–æ—É–º–µ—Ä –≤–∞–Ω –ø–æ –ø–∞—Ç–∏–∫–∞–º!
  <i>"–í–∏–∂—É –≤—Ä–∞–≥–∞ - –∑–Ω–∞—á–∏—Ç, –æ–Ω —É–∂–µ –º–µ—Ä—Ç–≤!"</i>

‚Ä¢ üíé <b>DOMINIC (5 –ø–æ–∑–∏—Ü–∏—è)</b>
  –ë—ã–≤—à–∏–π –ø—Ä–æ-–∏–≥—Ä–æ–∫ Aurora Gaming!
  <i>"–ò–∑ –ø—Ä–æ-—Å—Ü–µ–Ω—ã –≤ –ª–µ–≥–µ–Ω–¥—ã ZOMBE!"</i>

‚Ä¢ üåü <b>–í–µ–ª–∏—á–∞–π—à–∏–π –ú–∞–∫—Å–æ—Å (3 –ø–æ–∑–∏—Ü–∏—è)</b>
  –ì–æ—Ä–¥–æ—Å—Ç—å –í–µ–ª–∏–∫–∏—Ö –õ—É–∫, –º–µ—Ç–∞-–±—Ä–µ–π–∫–µ—Ä!
  <i>"–Ø –Ω–µ –∏–≥—Ä–∞—é –≤ –º–µ—Ç—É, —è —Å–æ–∑–¥–∞—é –µ—ë!"</i>

‚Ä¢ ‚ùì <b>–îi–º–∞ (1 –ø–æ–∑–∏—Ü–∏—è, –Ω–æ —ç—Ç–æ –Ω–µ —Ç–æ—á–Ω–æ)</b>
  –¢–µ–º–Ω–∞—è –ª–æ—à–∞–¥–∫–∞ –∫–æ–º–∞–Ω–¥—ã!
  <i>"–ò–Ω–æ–≥–¥–∞ –∫–µ—Ä—Ä–∏, –∏–Ω–æ–≥–¥–∞ —Ñ–∏–¥–µ—Ä - –≤—Å–µ–≥–¥–∞ —Å—é—Ä–ø—Ä–∏–∑!"</i>

<b>–ù–∞—à–∞ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è:</b>
"–ú—ã –Ω–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ–º - –º—ã —Å–æ–±–∏—Ä–∞–µ–º –æ–ø—ã—Ç –¥–ª—è TI 2026!" üèÜ
    """,
    'bio': """
üìñ <b>–ò–°–¢–û–†–ò–Ø ZOMBE TEAM - –û–¢ –ù–£–õ–Ø –î–û –õ–ï–ì–ï–ù–î–´! üöÄ</b>

<b>üìÖ 2017 - –ù–∞—á–∞–ª–æ –ø—É—Ç–∏:</b>
–í—Å—ë –Ω–∞—á–∞–ª–æ—Å—å –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–∫–∞—Ñ–µ "–ö–≤–∞–Ω—Ç" –≤ –í–µ–ª–∏–∫–∏—Ö –õ—É–∫–∞—Ö, –≥–¥–µ –í–µ–ª–∏—á–∞–π—à–∏–π –ú–∞–∫—Å–æ—Å –∏–≥—Ä–∞–ª –Ω–∞ —Å—Ç–∞—Ä–µ–Ω—å–∫–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ. –ö –Ω–µ–º—É –ø–æ–¥—Å–µ–ª –ø–∞—Ä–µ–Ω—å —Å –Ω–∏–∫–æ–º "–•–æ—Ö–ª–æ—Ä–µ–∑" –∏ —Å–∫–∞–∑–∞–ª: "–ë—Ä–æ, –¥–∞–≤–∞–π —Å–æ–±–µ—Ä–µ–º –∫–æ–º–∞–Ω–¥—É!"

<b>üî• 2018 - –ü–µ—Ä–≤—ã–π —Å–æ—Å—Ç–∞–≤:</b>
–ú—ã —Å–æ–±—Ä–∞–ª–∏ –ø–µ—Ä–≤—ã—Ö 5 —á–µ–ª–æ–≤–µ–∫:
- –ú–∞–∫—Å–æ—Å (–æ—Ñ—Ñ–ª–µ–π–Ω –∏–∑ –í.–õ—É–∫)
- –ú–∏—à–∞ (–∫–µ—Ä—Ä–∏ —Å –∞–º–±–∏—Ü–∏—è–º–∏)  
- –°—Çi—Å (—Ä–æ—É–º–µ—Ä —Å —É–ª–∏—Ü –ö–∏–µ–≤–∞)
- –îi–º–∞ (–∑–∞–≥–∞–¥–æ—á–Ω—ã–π —Ç–∏–ø –∏–∑ –ú–æ—Å–∫–≤—ã)
- DOMINIC (–±—ã–≤—à–∏–π –ø—Ä–æ-–∏–≥—Ä–æ–∫ –≤ –ø–æ–∏—Å–∫–∞—Ö —Å–µ–±—è)

<b>üíÄ 2019-2021 - –≠—Ä–∞ –ø–æ—Ä–∞–∂–µ–Ω–∏–π:</b>
‚Ä¢ 2019: –ü—Ä–æ–∏–≥—Ä–∞–ª–∏ 50 –º–∞—Ç—á–µ–π –ø–æ–¥—Ä—è–¥
‚Ä¢ 2020: –ù–∞—É—á–∏–ª–∏—Å—å –≥–æ–≤–æ—Ä–∏—Ç—å "–≥–≥ –≤–ø" –Ω–µ —Ä–∞—Å—Å—Ç—Ä–∞–∏–≤–∞—è—Å—å
‚Ä¢ 2021: –îi–º–∞ –≤–ø–µ—Ä–≤—ã–µ –∫—É–ø–∏–ª –ë–ö–ë (–∏ —Å—Ä–∞–∑—É —É–º–µ—Ä)

<b>üåü 2022 - –ü–µ—Ä–µ–ª–æ–º–Ω—ã–π –º–æ–º–µ–Ω—Ç:</b>
DOMINIC, —É—Å—Ç–∞–≤—à–∏–π –æ—Ç –ø—Ä–æ-—Å—Ü–µ–Ω—ã, –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è –∫ –Ω–∞–º –Ω–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –æ—Å–Ω–æ–≤–µ. –° –µ–≥–æ –ø—Ä–∏—Ö–æ–¥–æ–º –º—ã –Ω–∞–∫–æ–Ω–µ—Ü-—Ç–æ –≤—ã–∏–≥—Ä–∞–ª–∏ 3 –∏–≥—Ä—ã –ø–æ–¥—Ä—è–¥!

<b>üéØ 2023-2025 - –ü—É—Ç—å –∫ —Å–ª–∞–≤–µ:</b>
–°–æ–∑–¥–∞–ª–∏ YouTube –∫–∞–Ω–∞–ª, –Ω–∞—á–∞–ª–∏ —Å—Ç—Ä–∏–º–∏—Ç—å –Ω–∞ Twitch, –∑–∞–≤–æ–µ–≤–∞–ª–∏ 47 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –≤ TikTok! –ù–∞—à–∏ —Ñ–µ–π–ª—ã —Å—Ç–∞–ª–∏ –º–µ–º–∞–º–∏, –∞ –Ω–µ—É–¥–∞—á–∏ - –Ω–∞—à–µ–π —Ñ–∏—à–∫–æ–π!

<b>üöÄ 2026 - –ù–ê–® –ì–û–î!</b>
8 –ª–µ—Ç —É–ø–æ—Ä–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, —Ç—ã—Å—è—á–∏ –ø—Ä–æ–∏–≥—Ä–∞–Ω–Ω—ã—Ö –º–∞—Ç—á–µ–π –∏ –Ω–µ—Å–ª–æ–º–ª–µ–Ω–Ω—ã–π –¥—É—Ö –ø—Ä–∏–≤–µ–ª–∏ –Ω–∞—Å –∫ TI 2026!

<b>–ù–∞—à–∞ –º–∏—Å—Å–∏—è:</b> –î–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ –≥–ª–∞–≤–Ω–æ–µ - –Ω–µ –ø–æ–±–µ–¥–∞, –∞ —Ç–æ, –∫–∞–∫ —Ç—ã –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—à—å! üòé

<i>"–ú—ã –Ω–µ –∏–¥–µ–∞–ª—å–Ω—ã, –Ω–æ –º—ã - ZOMBE!"</i> üí™
    """,
    'ti': """
üèÜ <b>–ò–°–¢–û–†–ò–Ø –ù–ê–®–ò–• –í–ï–õ–ò–ö–ò–• –ë–ò–¢–í –ó–ê TI</b>

üìÖ <b>–ù–∞—à –ø—É—Ç—å –∫ —Å–ª–∞–≤–µ (–ø–æ–∫–∞ –Ω–µ –æ—á–µ–Ω—å —É—Å–ø–µ—à–Ω—ã–π):</b>

‚Ä¢ <b>TI 2018:</b> "–í —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ —Ç–æ—á–Ω–æ –ø—Ä–æ–π–¥–µ–º!"
‚Ä¢ <b>TI 2019:</b> "–ú–µ—Ç–∞ –Ω–µ —Ç–∞ –±—ã–ª–∞..."
‚Ä¢ <b>TI 2020:</b> "–ü–∞–Ω–¥–µ–º–∏—è –ø–æ–º–µ—à–∞–ª–∞!"
‚Ä¢ <b>TI 2021:</b> "–°—É–¥—å–∏ –±—ã–ª–∏ –Ω–µ–æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã!"
‚Ä¢ <b>TI 2022:</b> "–ù–∞—Å –∑–∞–¥–∏–¥–æ—Å–∏–ª–∏!"
‚Ä¢ <b>TI 2023:</b> "–ö–æ–º–ø—å—é—Ç–µ—Ä —Å–ª–æ–º–∞–ª—Å—è –≤ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è—Ö!"
‚Ä¢ <b>TI 2024:</b> "–ü–∞—Ç—á –≤—ã—à–µ–ª –Ω–µ—É–¥–∞—á–Ω—ã–π!"
‚Ä¢ <b>TI 2025:</b> "–ú—ã —É–∂–µ –ø–æ—á—Ç–∏ –ø—Ä–æ—à–ª–∏, –Ω–æ..."

üéØ <b>TI 2026:</b> –ê –≤–æ—Ç —ç—Ç–æ —É–∂–µ —Ç–æ—á–Ω–æ –Ω–∞—à –≥–æ–¥! 
–ì–æ—Ç–æ–≤—å—Ç–µ—Å—å, Dota-–º–∏—Ä! ZOMBE –µ–¥–µ—Ç –Ω–∞ TI! üí™

<b>–ù–∞—à–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞:</b>
‚úÖ –ü—Ä–∏–¥—É–º–∞–ª–∏ –Ω–æ–≤—ã–µ –æ–ø—Ä–∞–≤–¥–∞–Ω–∏—è
‚úÖ –ù–∞—É—á–∏–ª–∏—Å—å –≥–æ–≤–æ—Ä–∏—Ç—å "–≥–≥ –≤–ø" –ø–æ—Å–ª–µ –ø–æ—Ä–∞–∂–µ–Ω–∏—è
‚úÖ –îi–º–∞ –æ–ø—Ä–µ–¥–µ–ª–∏–ª—Å—è —Å –ø–æ–∑–∏—Ü–∏–µ–π (–Ω–∞–≤–µ—Ä–Ω–æ–µ)

<i>–°—Çi—Å –æ–±–µ—â–∞–ª –ø–µ—Ä–µ—Å—Ç–∞—Ç—å —Ä–æ—É–º–∏—Ç—å –Ω–∞ 1 —É—Ä–æ–≤–Ω–µ, –µ—Å–ª–∏ –ø—Ä–æ–π–¥–µ–º</i> üòÇ
    """,
    'content': """
üé¨ <b>–ö–û–ù–¢–ï–ù–¢ ZOMBE TEAM - –°–ú–ï–• –ò –ê–î–†–ï–ù–ê–õ–ò–ù! üöÄ</b>

<b>üìπ YouTube:</b>
üé• "–ö–ê–ö –ü–†–û–ò–ì–†–ê–¢–¨ 1000 –ú–ú–† –ò –£–õ–´–ë–ê–¢–¨–°–Ø"
üé• "–¢–û–ü-10 –ù–ê–®–ò–• –õ–£–ß–®–ò–• –§–ï–î–û–í"
üé• "–îiMA: –ö–ï–†–†–ò –ò–õ–ò –§–ò–î–ï–†? –†–ê–°–°–õ–ï–î–û–í–ê–ù–ò–ï"

<b>üî¥ Twitch —Å—Ç—Ä–∏–º—ã:</b>
‚è∞ –ö–∞–∂–¥—ã–π –¥–µ–Ω—å —Å 19:00 –ú–°–ö
üí¨ –ñ–∏–≤–æ–µ –æ–±—â–µ–Ω–∏–µ —Å –ª–µ–≥–µ–Ω–¥–∞–º–∏
üéÅ –†–∞–∑–¥–∞—á–∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∑–∞ –ø–æ–¥–ø–∏—Å–∫—É

<b>‚ö°Ô∏è TikTok:</b>
üì± –ö–æ—Ä–æ—Ç–∫–∏–µ –Ω–∞—Ä–µ–∑–∫–∏ –ª—É—á—à–∏—Ö –º–æ–º–µ–Ω—Ç–æ–≤
üòÇ –ú–µ–º—ã –∏ –ø—Ä–∏–∫–æ–ª—ã –æ—Ç –∫–æ–º–∞–Ω–¥—ã
üéÆ –ì–µ–π–º–ø–ª–µ–π –±–µ–∑ —Ü–µ–Ω–∑—É—Ä—ã!

<b>üéØ –≠–∫—Å–∫–ª—é–∑–∏–≤ –¥–ª—è –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤:</b>
‚Ä¢ –ó–∞–ø–∏—Å—å –Ω–∞—à–∏—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
‚Ä¢ –†–∞–∑–±–æ—Ä—ã —Ç–∞–∫—Ç–∏–∫ (–∫–∞–∫ –Ω–∞–¥–æ –±—ã–ª–æ –∏–≥—Ä–∞—Ç—å)
‚Ä¢ –ò–Ω—Ç–µ—Ä–≤—å—é —Å DOMINIC –ø—Ä–æ Aurora Gaming

<b>–ü–æ–¥–ø–∏—Å—ã–≤–∞–π—Å—è –Ω–∞ –≤—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã! –ë—É–¥–µ—Ç –∂–∞—Ä–∫–æ! üî•</b>
    """,
    'stats': """
üìä <b>–°–¢–ê–¢–ò–°–¢–ò–ö–ê ZOMBE TEAM - –¶–ò–§–†–´ –ù–ï –í–†–£–¢! üìà</b>

<b>–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:</b>
‚Ä¢ üéØ –ú–∞—Ç—á–µ–π —Å—ã–≥—Ä–∞–Ω–æ: 2,547
‚Ä¢ üèÜ –ü–æ–±–µ–¥: 1,203 (47.2%)
‚Ä¢ üíÄ –ü–æ—Ä–∞–∂–µ–Ω–∏–π: 1,344 (52.8%)
‚Ä¢ ‚≠êÔ∏è –õ—É—á—à–∞—è —Å–µ—Ä–∏—è –ø–æ–±–µ–¥: 3 –∏–≥—Ä—ã!

<b>–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:</b>
‚Ä¢ üî• –ú–∏—à–∞ –•–æ—Ö–ª–æ—Ä–µ–∑: 552 GPM (–≤ —Å—Ä–µ–¥–Ω–µ–º)
‚Ä¢ üéØ –°—Çi—Å: 23.7 –ø–∞—Ç–∏–∫–æ–≤ –∑–∞ –º–∞—Ç—á
‚Ä¢ üíé DOMINIC: 87% –≤–∞—Ä–¥–æ–≤ (–ø–æ–∫—É–ø–∞–µ—Ç —Ö–æ—Ç—è –±—ã)
‚Ä¢ üåü –ú–∞–∫—Å–æ—Å: 4.8 –ö–î–ê –Ω–∞ –æ—Ñ—Ñ–ª–µ–π–Ω–µ
‚Ä¢ ‚ùì –îi–º–∞: 50% winrate (–Ω–∞ –∫–∞–∫–æ–π –ø–æ–∑–∏—Ü–∏–∏?)

<b>–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Å–µ–∑–æ–Ω–∞:</b>
‚úÖ –ù–µ —Ä–∞—Å–ø–∞–ª–∏—Å—å –ø–æ—Å–ª–µ 10 –ø–æ—Ä–∞–∂–µ–Ω–∏–π –ø–æ–¥—Ä—è–¥
‚úÖ –ù–∞—à–ª–∏ 5-–≥–æ –∏–≥—Ä–æ–∫–∞ (DOMINIC)
‚úÖ –îi–º–∞ –Ω–∞–∫–æ–Ω–µ—Ü-—Ç–æ –∫—É–ø–∏–ª –ë–ö–ë (–æ–¥–∏–Ω —Ä–∞–∑)
‚úÖ –ù–µ –∑–∞—Ñ–µ–π–ª–∏–ª–∏ –¥—Ä–∞—Ñ—Ç (–≤ –ø–æ—Å–ª–µ–¥–Ω–µ–º –º–∞—Ç—á–µ)

<b>–¶–µ–ª—å –Ω–∞ —Å–µ–∑–æ–Ω:</b>
–ü–æ–≤—ã—Å–∏—Ç—å –≤–∏–Ω—Ä–µ–π—Ç –¥–æ 50%! üéØ
    """,
    'streams': """
üî¥ <b>–ë–õ–ò–ñ–ê–ô–®–ò–ï –°–¢–†–ò–ú–´ ZOMBE TEAM</b>

<b>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –Ω–µ–¥–µ–ª—é:</b>

üìÖ <b>–°–µ–≥–æ–¥–Ω—è 20:00 –ú–°–ö</b>
üéÆ –†–µ–π—Ç–∏–Ω–≥–æ–≤—ã–µ –∏–≥—Ä—ã —Å –ú–∏—à–µ–π –•–æ—Ö–ª–æ—Ä–µ–∑–æ–º
üí¨ –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø—Ä–æ 1 –ø–æ–∑–∏—Ü–∏—é

üìÖ <b>–ó–∞–≤—Ç—Ä–∞ 19:00 –ú–°–ö</b>  
üèÜ –ö–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ –æ—á–µ—Ä–µ–¥–Ω–æ–π –º–∏–Ω–∏-—Ç—É—Ä–Ω–∏—Ä
üéØ –°—Çi—Å –ø–æ–∫–∞–∂–µ—Ç —Å–≤–æ–π —Ä–æ—É–º–∏–Ω–≥

üìÖ <b>–°—Ä–µ–¥–∞ 21:00 –ú–°–ö</b>
üíé DOMINIC –æ–±—É—á–∞–µ—Ç —Å–∞–ø–ø–æ—Ä—Ç-–∏–≥—Ä–µ
üìö –†–∞–∑–±–æ—Ä –≤–∞—Ä–¥-–ø–æ–∑–∏—Ü–∏–π –æ—Ç —ç–∫—Å-–ø—Ä–æ

<b>–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∏–º—ã:</b>
‚≠êÔ∏è –ß–µ—Ç–≤–µ—Ä–≥ - —Å—Ç—Ä–∏–º —Å –∑–∞–≥–∞–¥–æ—á–Ω—ã–º –îi–º–æ–π
üåü –ü—è—Ç–Ω–∏—Ü–∞ - –í–µ–ª–∏—á–∞–π—à–∏–π –ú–∞–∫—Å–æ—Å –ª–æ–º–∞–µ—Ç –º–µ—Ç—É

<b>–ù–µ –ø—Ä–æ–ø—É—Å—Ç–∏! –ë—É–¥–µ—Ç —ç–ø–∏—á–Ω–æ! üöÄ</b>
    """,
    'help': """
üõ† <b>–î–û–°–¢–£–ü–ù–´–ï –ö–û–ú–ê–ù–î–´ ZOMBE TEAM:</b>

<b>–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:</b>
/start - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
/help - –≠—Ç–∞ —Å–ø—Ä–∞–≤–∫–∞
/team - –°–æ—Å—Ç–∞–≤ –Ω–∞—à–µ–π –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã
/ti - –ù–∞—à –ø—É—Ç—å –∫ The International 2026
/content - –ù–∞—à –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö
/stats - –ù–∞—à–∞ "–≤–ø–µ—á–∞—Ç–ª—è—é—â–∞—è" —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
/bio - –ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è

<b>–ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã:</b>
/streams - –ë–ª–∏–∂–∞–π—à–∏–µ —Å—Ç—Ä–∏–º—ã

<b>–ò—Å–ø–æ–ª—å–∑—É–π –∫–Ω–æ–ø–∫–∏ –≤ –º–µ–Ω—é –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞!</b> üéØ
    """
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä (–¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏)
def create_main_keyboard():
    return InlineKeyboardMarkup(inline_keyboard=[
        [InlineKeyboardButton(text="üéÆ –°–æ—Å—Ç–∞–≤ –∫–æ–º–∞–Ω–¥—ã", callback_data="team"),
         InlineKeyboardButton(text="üèÜ TI 2026", callback_data="ti_info")],
        [InlineKeyboardButton(text="üìπ –ù–∞—à –∫–æ–Ω—Ç–µ–Ω—Ç", callback_data="content"),
         InlineKeyboardButton(text="üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞", callback_data="stats")],
        [InlineKeyboardButton(text="üìñ –ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è", callback_data="bio")],
        [InlineKeyboardButton(text="üé• YouTube", url=LINKS['youtube']),
         InlineKeyboardButton(text="üî¥ Twitch", url=LINKS['twitch'])],
        [InlineKeyboardButton(text="‚ö°Ô∏è TikTok", url=LINKS['tiktok']),
         InlineKeyboardButton(text="üì¢ –ù–∞—à –∫–∞–Ω–∞–ª", url=LINKS['channel'])]
    ])

def create_back_keyboard():
    return InlineKeyboardMarkup(inline_keyboard=[
        [InlineKeyboardButton(text="üîô –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")]
    ])

def create_content_keyboard():
    return InlineKeyboardMarkup(inline_keyboard=[
        [InlineKeyboardButton(text="üé• YouTube", url=LINKS['youtube']),
         InlineKeyboardButton(text="üî¥ Twitch", url=LINKS['twitch'])],
        [InlineKeyboardButton(text="‚ö°Ô∏è TikTok", url=LINKS['tiktok'])],
        [InlineKeyboardButton(text="üîô –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")]
    ])

def create_streams_keyboard():
    return InlineKeyboardMarkup(inline_keyboard=[
        [InlineKeyboardButton(text="üî¥ Twitch", url=LINKS['twitch']),
         InlineKeyboardButton(text="üé• YouTube", url=LINKS['youtube'])],
        [InlineKeyboardButton(text="üîô –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")]
    ])

# –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π (—Å–Ω–∏–∂–∞–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞)
async def send_or_edit_text(obj, text_key: str, reply_markup=None, user_name: str = None, parse_mode=ParseMode.HTML):
    text = TEXTS[text_key]
    if user_name and "{name}" in text:
        text = text.format(name=user_name)
    if isinstance(obj, Message):
        await obj.answer(text, reply_markup=reply_markup, parse_mode=parse_mode)
    elif isinstance(obj, CallbackQuery):
        await obj.message.edit_text(text, reply_markup=reply_markup, parse_mode=parse_mode)
        await obj.answer()
    else:
        logger.error("–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø –æ–±—ä–µ–∫—Ç–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–µ–∫—Å—Ç–∞")

# ========== –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò –ö–û–ú–ê–ù–î ========== #
@dp.message(CommandStart())
async def start_command(message: Message):
    """–ö–æ–º–∞–Ω–¥–∞ /start"""
    user = message.from_user
    logger.info(f"üéØ –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {user.full_name}")
    await send_or_edit_text(message, 'welcome', create_main_keyboard(), user.first_name)

@dp.message(Command("help"))
async def help_command(message: Message):
    """–ö–æ–º–∞–Ω–¥–∞ /help"""
    await send_or_edit_text(message, 'help')

@dp.message(Command("team"))
async def team_command(message: Message):
    """–ö–æ–º–∞–Ω–¥–∞ /team"""
    await send_or_edit_text(message, 'team', create_back_keyboard())

@dp.message(Command("ti"))
async def ti_command(message: Message):
    """–ö–æ–º–∞–Ω–¥–∞ /ti"""
    await send_or_edit_text(message, 'ti', create_back_keyboard())

@dp.message(Command("content"))
async def content_command(message: Message):
    """–ö–æ–º–∞–Ω–¥–∞ /content"""
    await send_or_edit_text(message, 'content', create_content_keyboard())

@dp.message(Command("stats"))
async def stats_command(message: Message):
    """–ö–æ–º–∞–Ω–¥–∞ /stats"""
    await send_or_edit_text(message, 'stats', create_back_keyboard())

@dp.message(Command("streams"))
async def streams_command(message: Message):
    """–ö–æ–º–∞–Ω–¥–∞ /streams"""
    await send_or_edit_text(message, 'streams', create_streams_keyboard())

@dp.message(Command("bio"))
async def bio_command(message: Message):
    """–ö–æ–º–∞–Ω–¥–∞ /bio"""
    await send_or_edit_text(message, 'bio', create_back_keyboard())

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–¥–ª—è –ª—É—á—à–µ–≥–æ UX)
@dp.message()
async def unknown_message(message: Message):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∫–æ–º–∞–Ω–¥/—Å–æ–æ–±—â–µ–Ω–∏–π"""
    await message.answer("‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /help –¥–ª—è —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.", parse_mode=ParseMode.HTML)

# ========== –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò –ö–ù–û–ü–û–ö ========== #
@dp.callback_query(F.data == "main_menu")
async def main_menu_handler(callback: CallbackQuery):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ '–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é'"""
    await send_or_edit_text(callback, 'welcome', create_main_keyboard(), callback.from_user.first_name)

@dp.callback_query(F.data == "team")
async def team_handler(callback: CallbackQuery):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ '–°–æ—Å—Ç–∞–≤ –∫–æ–º–∞–Ω–¥—ã'"""
    await send_or_edit_text(callback, 'team', create_back_keyboard())

@dp.callback_query(F.data == "ti_info")
async def ti_handler(callback: CallbackQuery):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ 'TI 2026'"""
    await send_or_edit_text(callback, 'ti', create_back_keyboard())

@dp.callback_query(F.data == "content")
async def content_handler(callback: CallbackQuery):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ '–ù–∞—à –∫–æ–Ω—Ç–µ–Ω—Ç'"""
    await send_or_edit_text(callback, 'content', create_content_keyboard())

@dp.callback_query(F.data == "stats")
async def stats_handler(callback: CallbackQuery):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ '–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞'"""
    await send_or_edit_text(callback, 'stats', create_back_keyboard())

@dp.callback_query(F.data == "bio")
async def bio_handler(callback: CallbackQuery):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ '–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è'"""
    await send_or_edit_text(callback, 'bio', create_back_keyboard())

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö callback (–¥–ª—è robustness)
@dp.callback_query()
async def unknown_callback(callback: CallbackQuery):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö callback"""
    await callback.answer("‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–Ω–æ–ø–∫–∞. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –ø–æ–º–æ—â—å—é /start.", show_alert=True)

# ========== –ó–ê–ü–£–°–ö ========== #
async def main():
    if not BOT_TOKEN:
        logger.error("‚ùå BOT_TOKEN –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!")
        return
    logger.info("üöÄ –ë–æ—Ç ZOMBE Team –∑–∞–ø—É—â–µ–Ω —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ –∏ –∫–Ω–æ–ø–∫–∞–º–∏!")
    logger.info("üìù –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã: /start, /help, /team, /ti, /content, /stats, /streams, /bio")
    try:
        await dp.start_polling(bot)
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ: {e}")
    finally:
        await bot.session.close()

if __name__ == "__main__":
    asyncio.run(main())
